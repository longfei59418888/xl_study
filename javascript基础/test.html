<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script type="module">
    // class Test {
    //   static instance = new Test();
    //
    //   say() {
    //     console.log("hello");
    //   }
    //
    //   static getInstance = () => {
    //     return Test.instance;
    //   };
    // }
    //
    // const test = Test.getInstance();
    // test.say();

    // const loadScript = (url, ck) => {
    //     const node = document.createElement('script');
    //     node.type = 'text/javascript';
    //     node.charset = 'utf-8';
    //     node.async = true;
    //     document.querySelector('head').appendChild(node)
    //     node.src = url;
    //     node.onload = () => {}
    // }
    // let moduleName = 'entry'
    // let depName = 'entry'
    // window.define = function (depends, func) {
    //     new Module(depName, depends, func)
    // }
    // const modules = {}
    // class Module {
    //     constructor(name, depends, func) {
    //         this.func = func
    //         this.name = name
    //         this.depends = depends
    //         this.deps = []
    //         this.parent = moduleName
    //         modules[depName] = this
    //         if (depends.length < 1) {
    //             const res = func()
    //             const module = modules[moduleName]
    //             module.resolve(this.name, res)
    //         } else {
    //             let item = depends.shift()
    //             depName = item
    //             moduleName = this.name
    //             loadScript(item, () => {
    //             })
    //         }
    //     }
    //
    //     resolve(name, module) {
    //         this.deps.push(module)
    //         if (this.depends.length > 0) {
    //             let item = this.depends.shift()
    //             depName = item
    //             moduleName = this.name
    //             loadScript(item, () => {
    //             })
    //         } else {
    //             const res = this.func.apply(null, this.deps)
    //
    //             if (this.name === this.parent) return
    //             const module = modules[this.parent]
    //             module.resolve(this.name, res)
    //         }
    //     }
    // }
    //
    // window.require = function (depends = [], func) {
    //     const module = new Module(moduleName, depends, func)
    // }
    // require(['./test.js', './test4.js'], (t1, t2) => {
    //     console.log('end' + t1 + t2)
    // })

    Promise.all([
      new Promise(resolve => resolve(1)),
      new Promise((resolve, reject) => reject(2))
    ])
      .then(res => console.log(res), reason => console.error(3, reason))
      .catch(reason => console.error(reason));

  </script>
</head>
<body>
</body>
</html>
