
## 操作系统

###### 操作系统Operating System(OS)，为用户和应用软件提供接口，来管理硬件设备

#### 目标：
- 方便性：没有操作系统的裸机，必须用机器语言来操作计算机，如果计算机又OS，则可以把一些高级语言翻译成机器语言或者直接用
OS提供的命令来操作计算机
- 有效性：OS可以让用户和应用程序充分利用计算机资源
- 可扩充性
- 开放性

#### 作用：
- 为用户和计算机提供接口：用户可以通过OS来操作计算机和在计算机运行自己的程序
- 管理计算机资源：计算机资源(处理器、存储器、I/O设备、文件[数据和程序])，控制/分配处理器，分配和回收存储器的内存，
I/O设备的分配/回收和操控，文件的保护/共享/存取/权限等
- 实现了对计算机资源的抽象：操作裸机需要用机器语言(I/O读写，文件管理)，OS对机器语言进行了封装，提供了一系列抽象的接口

#### 发展过程：主要是为了提升资源利用率
- 人工操作：  
1、程序员手动将程序输入到输入设备中  
2、然后启动计算机运算执行，执行完毕后获得过结果  
3、供下一个人工操作
- 脱机输入/输入：   
1、程序员先将程序传送到输入设备  
2、由外围机将输入设备程序存储到磁盘上  
3、计算机依次执行，需要的时候到磁盘上获取  
4、将输出的结果输入到磁盘上面  
5、由外围设备将磁盘上的结果传送给输出设备
- 单道批处理：  
1、配置上一个监督程序  
2、监督程序将磁盘上的加入内存，并执行  
3、一个接一个执行  
_缺点：磁盘上读写程序的时候，cpu会停止_
- 多道批处理：  
1、将多个程序加入内存中  
2、在I/O读写时候，其他程序运行CPU资源
- 操作系统：  
1、解决处理机争用，提高处理机利率率  
2、内存分配和保护：分配合适的内存，且程序之间不影响  
3、I/O设备分配：提高设备利用率  
4、文件管理：合理管理磁盘上数据  
5、作业(应用程序)管理  
6、用户系统  

#### 分时系统(多路复用)
###### 一台计算机供多人使用(多个终端)，互不影响
1、及时接收：分时系统为每一个终端提供了多卡路和缓冲区,并周期的扫描每一个终端输入的指令，存放到数据(指令)  
2、及时处理：将数据(指令)都存储到内存中，处理机一个时间片段（30ms）执行一个终端的指令,时间片段过后执行另一个终端指令
确保每一个都在执行

#### 实时系统

#### 并行和并发

- 并行：同一时间多个任务同时发生
- 并发：同一时间间隔内多个任务交替执行


#### 引入进程
给内存中的每一个程序建立进程，这些程序就可以并发的执行了  
可以提高计算机资源的利用率  

- 定义：指在系统中能独立运行，作为资源分配的基本单位，由指令/数据/堆栈组成，能独立运行的活动实体进程之间可以并行且可以交换数据

#### 共享

- 互斥共享：同一时间只能一个进程使用，例如打印机。这些资源为临界资源，系统当中大多物理设备都是临界资源
- 同时访问：同时访问也就是并发访问。

#### 虚拟

- 时分复用：利用空闲时间并发的执行一些程序，交替执行
- 空分复用：充分利用内存，虚拟存储技术-将程序一部分一部分存入内存

#### 异步


### 系统功能

###### 主要是为了多道程序在计算机中有良好的运行环境，提高资源利用率，方便用户使用，为此提供了处理机管理、存储管理、设备管理、文件管理等

#### 处理机管理
- 进程控制：主要为了为了每个程序创建进程(分配资源),使之可以并发，销毁(中止)进程(释放资源供其他程序使用)。
- 进程同步：就是为临界资源分配锁，只有释放了才能访问
- 进程通信：用户交换进程间的数据。输入进程---计算进程---打印机进程
- 调度-程序调度：在程序队列中，获得若干个程序，为之分配资源(加入内存，建立进程)，是它为就绪进程，插入就绪队列，供处理机并发执行
- 调度-进程调度：在就绪列队中选一个进程，处理机分配与之使用执行。

#### 存储器管理
- 内存分配：为每一个程序分配内存空间
- 内存保护：两道程序不影响
- 地址映射：逻辑地址和物理地址映射
- 内存扩充：空出内存可以请求添加程序，内存不够可以移除停止的程序

#### 设备管理
- 缓冲管理：为了处理cpu和I/O设备速度不匹配，在内存中设置了缓冲区。
- 设备分配：用户进程请求I/O时候，设备分配会根据现有的情况，为之分配I/O设备
- 设备处理：I/O设备接收到指令，设备处理程序完成指令操作

#### 文件管理
- 文件存储空间管理：为文件分配空间
- 目录管理：为文件建立目录项，主要包括文件名，文件属性，文件在磁盘位置等
- 文件读写保护：

#### 操作系统和用户的接口
- 联机：主要通过终端命令实现对系统操作
- 脱机：批处理文件来处理
- 图形：window 界面来实现系统操作
- 程序：为程序开发提供了接口来操作系统

#### OS的结构
- 无结构模式：注重过程，主要是为了提高OS运行过程中的利用率
- 模块化模式：以功能划分，实现多个模块用接口交互，主要有进程模块、I/O模块、存储模块、文件模块等
- 分层模块：从裸机到OS完成，中间由N层软件形成分层
- 微内核结构：支持多个处理机运行，











